webpackJsonp([20],{1030:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={data:function(){return{baseData:[],privilege:[],roleId:Number}},created:function(){this.loadList()},methods:{loadList:function(){var e=this,t=e.$route.params;e.$http.post("/auth/privilegeList",{roleId:t.roleId}).then(function(i){var n=i.data;n.data&&(e.privilege=_.map(n.data,"privilegeId"),e.roleId=t.roleId,e.baseData=[{expand:!0,title:t.roleName,disableCheckbox:!0,children:[{title:"贷款审批",privilegeId:1e3,expand:!0,children:[{title:"金融专员",privilegeId:1080,checked:_.includes(e.privilege,1080)},{title:"授信初审",privilegeId:1001,checked:_.includes(e.privilege,1001)},{title:"授信复审",privilegeId:1002,checked:_.includes(e.privilege,1002)},{title:"放款初审",privilegeId:1003,checked:_.includes(e.privilege,1003)},{title:"放款复审",privilegeId:1004,checked:_.includes(e.privilege,1004)},{title:"放款终审",privilegeId:1005,checked:_.includes(e.privilege,1005)},{title:"账务确认",privilegeId:1006,checked:_.includes(e.privilege,1006)}]},{title:"贷后管理",privilegeId:2e3,expand:!0,children:[{title:"在贷客户",privilegeId:2001,checked:_.includes(e.privilege,2001)},{title:"清贷客户",privilegeId:2002,checked:_.includes(e.privilege,2002)}]},{title:"押品管理",privilegeId:3e3,expand:!0,children:[{title:"入库",privilegeId:3001,checked:_.includes(e.privilege,3001)},{title:"出库",privilegeId:3002,checked:_.includes(e.privilege,3002)},{title:"出入审批",privilegeId:3003,checked:_.includes(e.privilege,3003)}]},{title:"统计报表",expand:!0,privilegeId:4e3,children:[{title:"进件统计",privilegeId:4001,checked:_.includes(e.privilege,4001)},{title:"放款统计",privilegeId:4002,checked:_.includes(e.privilege,4002)},{title:"台账报表",privilegeId:4003,checked:_.includes(e.privilege,4003)}]},{title:"我的消息",disabled:!0,privilegeId:5e3,checked:!0},{title:"系统管理",privilegeId:6e3,checked:_.includes(e.privilege,6e3)}]}])}).catch(function(t){e.$Message.error({content:t,duration:3})})},save:function(e){var t=this,i=this.$refs[e].getCheckedNodes(),n={roleId:t.roleId,privilegeId:_.map(_.filter(i,"privilegeId"),"privilegeId")};t.$http.post("/auth/modifyURolePrivilege",n).then(function(e){0==e.data.code?t.$Message.error({content:e.data.msg,duration:3}):1==e.data.code&&(t.$Message.success({content:e.data.msg}),t.$router.replace("/editrole"))}).catch(function(e){t.$Message.error({content:e,duration:3})})},cancel:function(){this.$router.go(-1)}}}},1034:function(e,t,i){t=e.exports=i(470)(!0),t.push([e.i,".tab{padding-top:15px}.ivu-tabs-tab{font-size:16px}.layout-content .extra-btn{font-size:14px;color:#20abff}.btn-cell{padding-top:30px}.sub{margin-right:30px;background-color:#20abff}.cancel,.sub{width:200px;height:50px;border-color:#20abff;font-size:18px;letter-spacing:5px}.cancel{color:#20abff}","",{version:3,sources:["E:/资方系统/ejie_ecrs/webApp/src/pages/system/editpower.vue"],names:[],mappings:"AACA,KACC,gBAAkB,CAClB,AACD,cACC,cAAgB,CAChB,AACD,2BACC,eAAgB,AAChB,aAAe,CACf,AACD,UACC,gBAAkB,CAClB,AACD,KAGC,kBAAmB,AACnB,wBAA0B,CAI1B,AACD,aARC,YAAa,AACb,YAAa,AAGb,qBAAsB,AACtB,eAAgB,AAChB,kBAAoB,CASpB,AAPD,QAIC,aAAe,CAGf",file:"editpower.vue",sourcesContent:["\n.tab {\n\tpadding-top: 15px;\n}\n.ivu-tabs-tab {\n\tfont-size: 16px;\n}\n.layout-content .extra-btn {\n\tfont-size: 14px;\n\tcolor: #20abff;\n}\n.btn-cell {\n\tpadding-top: 30px;\n}\n.sub {\n\twidth: 200px;\n\theight: 50px;\n\tmargin-right: 30px;\n\tbackground-color: #20abff;\n\tborder-color: #20abff;\n\tfont-size: 18px;\n\tletter-spacing: 5px;\n}\n.cancel {\n\twidth: 200px;\n\theight: 50px;\n\tborder-color: #20abff;\n\tcolor: #20abff;\n\tfont-size: 18px;\n\tletter-spacing: 5px;\n}\n"],sourceRoot:""}])},1068:function(e,t,i){var n=i(1034);"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);i(471)("81405506",n,!0)},1103:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("Tabs",{staticClass:"tab",attrs:{value:"system"}},[i("Tab-pane",{staticClass:"tab-item",attrs:{label:"权限编辑",name:"system"}},[i("Tree",{ref:"tree",attrs:{data:e.baseData,"show-checkbox":""}}),e._v(" "),i("div",{staticClass:"btn-cell"},[i("i-button",{staticClass:"sub",attrs:{type:"primary",size:"large"},on:{click:function(t){e.save("tree")}}},[e._v("保存")]),e._v(" "),i("i-button",{staticClass:"cancel",attrs:{type:"ghost",size:"large"},on:{click:e.cancel}},[e._v("取消")])],1)],1),e._v(" "),i("i-button",{staticClass:"extra-btn",attrs:{slot:"extra",type:"text",icon:"ios-undo-outline"},on:{click:function(t){e.$router.go(-1)}},slot:"extra"},[e._v("返回")])],1)},staticRenderFns:[]}},502:function(e,t,i){function n(e){i(1068)}var l=i(47)(i(1030),i(1103),n,null,null);e.exports=l.exports}});
//# sourceMappingURL=20.9ba94c9324cec806b8e8.js.map